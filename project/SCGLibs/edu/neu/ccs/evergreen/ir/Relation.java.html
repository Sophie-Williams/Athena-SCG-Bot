<html><head><title>Relation.java</title></head>
<!-- HTMLized with the Beditor
     *c* Bryan Chadwick, 2003 -->
<style type='text/css'><!--
   .def{ color: #000000; }
   .grade{
      border: solid #FF0000 1px;
      background-color: #FFFF60;
   }
   .gcom{ font-weight: bold; background-color: #FFC0C0; }
   .com{ font-style: italic; color: #880000; }
   .keyw{ font-weight: bold; color: #000088; }
   .num{ color: #00AA00; }
   .func{ color: #BB7733; }
   .str{ color: #CC00AB; }
   .prim{ color: #0000FF; }
--></style>
<body><pre><span class="def">
</span><span class="keyw">package</span><span class="def"> edu.neu.ccs.evergreen.ir;

</span><span class="com">/**
 * @author mohsen
 * An implementation of RelationI interface that wraps the relation core functionality
 */</span><span class="def">
</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">class</span><span class="def"> Relation </span><span class="keyw">implements</span><span class="def"> RelationI{

	</span><span class="keyw">private</span><span class="def"> </span><span class="keyw">int</span><span class="def"> rank;
	</span><span class="keyw">private</span><span class="def"> </span><span class="keyw">int</span><span class="def"> relationNumber;
	
	
	</span><span class="com">/**
	 * @param rank
	 * @param relationNumber
	 */</span><span class="def">
	</span><span class="keyw">public</span><span class="def"> </span><span class="func">Relation</span><span class="def">(</span><span class="keyw">int</span><span class="def"> rank, </span><span class="keyw">int</span><span class="def"> relationNumber) {
		RelationCore.</span><span class="func">checkRank</span><span class="def">(rank);
		RelationCore.</span><span class="func">checkRelationNumber</span><span class="def">(relationNumber, rank);
		</span><span class="keyw">this</span><span class="def">.rank = rank;
		</span><span class="keyw">this</span><span class="def">.relationNumber = relationNumber;
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">firstForcedVariable</span><span class="def">(</span><span class="keyw">int</span><span class="def"> startPosition) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">firstForcedVariable</span><span class="def">(relationNumber, rank, startPosition);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">getMagicNumber</span><span class="def">(</span><span class="keyw">int</span><span class="def"> variablePosition, </span><span class="keyw">int</span><span class="def"> value) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">getMagicNumber</span><span class="def">(rank, variablePosition, value);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">getMask</span><span class="def">() {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">getMask</span><span class="def">(rank);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">getRank</span><span class="def">() {
		</span><span class="keyw">return</span><span class="def"> rank;
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">getRelationNumber</span><span class="def">() {
		</span><span class="keyw">return</span><span class="def"> relationNumber;
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">isForced</span><span class="def">(</span><span class="keyw">int</span><span class="def"> variablePosition) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">isForced</span><span class="def">(relationNumber, rank, variablePosition);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">boolean</span><span class="def"> </span><span class="func">isIrrelevant</span><span class="def">(</span><span class="keyw">int</span><span class="def"> variablePosition) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">isIrrelevant</span><span class="def">(relationNumber, rank, variablePosition);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">nMap</span><span class="def">(</span><span class="keyw">int</span><span class="def"> variablePosition) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">nMap</span><span class="def">(relationNumber, rank, variablePosition);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">numberOfRelevantVariables</span><span class="def">() {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">numberOfRelevantVariables</span><span class="def">(relationNumber, rank);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">ones</span><span class="def">() {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">ones</span><span class="def">(relationNumber, rank);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">q</span><span class="def">(</span><span class="keyw">int</span><span class="def"> s) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">q</span><span class="def">(relationNumber, rank, s);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">reduce</span><span class="def">(</span><span class="keyw">int</span><span class="def"> variablePosition, </span><span class="keyw">int</span><span class="def"> value) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">reduce</span><span class="def">(relationNumber, rank, variablePosition, value);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">renme</span><span class="def">(</span><span class="keyw">int</span><span class="def"> permutationSemantics, </span><span class="keyw">int</span><span class="def">... permutation) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">renme</span><span class="def">(relationNumber, rank, permutationSemantics, permutation);
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">void</span><span class="def"> </span><span class="func">setRank</span><span class="def">(</span><span class="keyw">int</span><span class="def"> rank) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		RelationCore.</span><span class="func">checkRank</span><span class="def">(rank);
		</span><span class="com">//this.rank = rank;</span><span class="def">
		</span><span class="keyw">throw</span><span class="def"> </span><span class="keyw">new</span><span class="def"> </span><span class="func">UnsupportedOperationException</span><span class="def">();
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">void</span><span class="def"> </span><span class="func">setRelationNumber</span><span class="def">(</span><span class="keyw">int</span><span class="def"> relationNumber) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		RelationCore.</span><span class="func">checkRelationNumber</span><span class="def">(relationNumber, rank);
		</span><span class="keyw">this</span><span class="def">.relationNumber = relationNumber;
	}

	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">int</span><span class="def"> </span><span class="func">swap</span><span class="def">(</span><span class="keyw">int</span><span class="def"> variablePosition1, </span><span class="keyw">int</span><span class="def"> variablePosition2) </span><span class="keyw">throws</span><span class="def"> IllegalArgumentException {
		</span><span class="keyw">return</span><span class="def"> RelationCore.</span><span class="func">swap</span><span class="def">(relationNumber, rank, variablePosition1, variablePosition2);
	}

	@Override
	</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">boolean</span><span class="def"> </span><span class="func">equals</span><span class="def">(</span><span class="prim">Object</span><span class="def"> obj) {
		</span><span class="keyw">if</span><span class="def">(obj </span><span class="keyw">instanceof</span><span class="def"> RelationI){
			RelationI r = (RelationI) obj;
			</span><span class="keyw">return</span><span class="def">(r.</span><span class="func">getRelationNumber</span><span class="def">() == relationNumber);
		}
		</span><span class="keyw">return</span><span class="def"> </span><span class="keyw">false</span><span class="def">;
	}

	@Override
	</span><span class="keyw">public</span><span class="def"> </span><span class="prim">String</span><span class="def"> </span><span class="func">toString</span><span class="def">() {
		</span><span class="keyw">return</span><span class="def"> </span><span class="str">""</span><span class="def">+relationNumber;
	}

	
}</span></pre></body></html>