<html><head><title>SplitStream.java</title></head>
<!-- HTMLized with the Beditor
     *c* Bryan Chadwick, 2003 -->
<style type='text/css'><!--
   .def{ color: #000000; }
   .grade{
      border: solid #FF0000 1px;
      background-color: #FFFF60;
   }
   .gcom{ font-weight: bold; background-color: #FFC0C0; }
   .com{ font-style: italic; color: #880000; }
   .keyw{ font-weight: bold; color: #000088; }
   .num{ color: #00AA00; }
   .func{ color: #BB7733; }
   .str{ color: #CC00AB; }
   .prim{ color: #0000FF; }
--></style>
<body><pre><span class="def">
</span><span class="keyw">package</span><span class="def"> logging;

</span><span class="keyw">import</span><span class="def"> java.io.IOException;
</span><span class="keyw">import</span><span class="def"> java.io.OutputStream;

</span><span class="com">/** Split a Stream into two, so output can go to the screen and to
 *    a File, similar to the Unix utility "tee". */</span><span class="def">
</span><span class="keyw">public</span><span class="def"> </span><span class="keyw">class</span><span class="def"> SplitStream </span><span class="keyw">extends</span><span class="def"> OutputStream{
    OutputStream one;
    OutputStream two;
    
    </span><span class="keyw">private</span><span class="def"> </span><span class="func">SplitStream</span><span class="def">(OutputStream o, OutputStream t){ one = o; two = t; }
    
    </span><span class="com">/** Create a new SplitStream */</span><span class="def">
    </span><span class="keyw">public</span><span class="def"> </span><span class="keyw">static</span><span class="def"> SplitStream </span><span class="func">create</span><span class="def">(OutputStream o, OutputStream t){
        </span><span class="keyw">return</span><span class="def"> </span><span class="keyw">new</span><span class="def"> </span><span class="func">SplitStream</span><span class="def">(o,t);
    }

    </span><span class="com">/** Write to both of the output Streams. */</span><span class="def">
    </span><span class="keyw">public</span><span class="def"> </span><span class="keyw">void</span><span class="def"> </span><span class="func">write</span><span class="def">(</span><span class="keyw">int</span><span class="def"> c) </span><span class="keyw">throws</span><span class="def"> IOException{
        one.</span><span class="func">write</span><span class="def">(c); two.</span><span class="func">write</span><span class="def">(c);
    }
    
    </span><span class="com">/** Close Both Streams */</span><span class="def">
    </span><span class="keyw">public</span><span class="def"> </span><span class="keyw">void</span><span class="def"> </span><span class="func">close</span><span class="def">() </span><span class="keyw">throws</span><span class="def"> IOException { one.</span><span class="func">close</span><span class="def">(); two.</span><span class="func">close</span><span class="def">(); }
    
    </span><span class="com">/** Fluch Both Streams */</span><span class="def">
    </span><span class="keyw">public</span><span class="def"> </span><span class="keyw">void</span><span class="def"> </span><span class="func">flush</span><span class="def">() </span><span class="keyw">throws</span><span class="def"> IOException { one.</span><span class="func">flush</span><span class="def">(); two.</span><span class="func">flush</span><span class="def">(); }
}
</span></pre></body></html>